<?xml version="1.0" encoding="utf-8"?>

<launch>
  <arg name="use_sim_time"            default="true" />

  <arg name="default_param_file"     value="$(find nvblox_ros)/config/parameters.yaml"/>
  <arg name="output"                 default="screen"                    doc="Output target: screen or log."/>

  <!-- Node name -->
  <arg name="node_name"              default="nvblox_node"/>

  <!--<node type="rviz" name="rviz" pkg="rviz" args="-d $(find nvblox_ros)/rviz/rviz.rviz"/> -->

  <node pkg="nvblox_ros" type="nvblox_node" name="$(arg node_name)" respawn="false" output="$(arg output)" >
    <rosparam file="$(arg default_param_file)"/>
    <remap from="depth/image" to="/data/depth_image" />
    <remap from="depth/camera_info" to="/data/depth_image/camera_info" />

    <remap from="color/image" to="/data/color_image" />
    <remap from="color/camera_info" to="/data/color_image/camera_info" />

    <remap from="pointcloud" to="/lidar/point_cloud" />

    <param name="global_frame" value="odom" />
    <param name="use_sim_time" value="$(arg use_sim_time)"/>
    <param name="lidar_width" value="440" />
    <param name="use_depth" value="true" />
    <param name="voxel_size" value="0.02" />
    
  </node>

</launch>
